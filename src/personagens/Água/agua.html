<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Árvore de Habilidades - Água</title> <!-- Título corrigido -->
    <link rel="stylesheet" type="text/css" href="/src/style.css">
    <link rel="stylesheet" type="text/css" href="/src/personagens/Água/agua.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
</head>

<body>

    <div class="botoes">
        <a href="/src/index.html"> <button class="botao-home"><img
                    src="https://static.thenounproject.com/png/2137554-200.png" alt="HOME"></button></a>
    </div>

    <h1>Árvore de Habilidades - Água</h1>
    <div class="points"> Nível: <span id="nivel">1</span> | Pontos Disponíveis: <span id="pontos"></span></div>
    <div id="skillTreeContainer" style="width: 100%; height: 600px; border: 1px solid #ccc; background-color: #252525; position: relative;">
        <!-- Cytoscape vai desenhar aqui -->
    </div>

    <!-- Removido o botão de carregar árvore, faremos isso automaticamente -->
    <hr>
    <div id="characterSheetDisplay">
        <!-- A ficha do personagem renderizada por renderizarPersonagem virá aqui -->
    </div>
    <button class="bonito" onclick="subirNivel()">Subir de Nível (+3 Pontos)</button>

    <div class="test">

        <h2>Criar Personagem Elemental de Água</h2>
        <label>Nome: <input id="nomeInput" type="text" class="bonito"></label><br>
        <label>Cor (hex): <input id="corInput" type="color" value="#00BFFF" class="cor"></label><br><br>

        <h4>Atributos Base do Personagem (Regra: Elementais começam com Força: 1, Resistência: 1, Destreza: 2, Inteligência: 2, Carisma: 1, Etter: 2)</h4>
        <div id="atributo">
            <!-- Valores base para Elementais, conforme PDF. O jogador pode customizar depois. -->
            <input type="number" class="bonito" placeholder="Força" value="1"><br>
            <input type="number" class="bonito" placeholder="Resistência" value="1"><br>
            <input type="number" class="bonito" placeholder="Inteligência" value="2"><br>
            <input type="number" class="bonito" placeholder="Destreza" value="2"><br>
            <input type="number" class="bonito" placeholder="Etter" value="2"><br>
            <!-- NOVO: Adicionado campo para Carisma -->
            <input type="number" class="bonito" placeholder="Carisma" value="1"><br>
        </div>


        <h4>Habilidades Manuais - Combate:</h4>
        <div id="combateInputs" class="bonito">
            <input class="bonito" type="text" placeholder="Habilidade de Combate 1"><br>
        </div>
        <button class="botaoAgua" type="button" onclick="adicionarHabilidade('combateInputs')">+ Habilidade de Combate</button>

        <h4>Habilidades Manuais - Investigação:</h4>
        <div id="investigacaoInputs" class="bonito">
            <input class="bonito" type="text" placeholder="Habilidade de Investigação 1"><br>
        </div>
        <button class="botaoAgua" type="button" onclick="adicionarHabilidade('investigacaoInputs')">+ Habilidade de Investigação</button>

        <h4>Habilidades Manuais - Poder:</h4>
        <div id="poderInputs" class="bonito">
            <input class="bonito" type="text" placeholder="Habilidade de Poder 1"><br>
        </div>
        <button class="botaoAgua" type="button" onclick="adicionarHabilidade('poderInputs')">+ Habilidade de Poder</button><br><br>

        <button class="botaoAgua" type="button" onclick="criarPersonagem()">Criar Personagem e Iniciar</button>
    </div>

    <script src="/src/script.js"></script>
    <script>
        // NOVO: Carrega a árvore assim que a página estiver pronta.
        document.addEventListener('DOMContentLoaded', function() {
            // A árvore só será desenhada após a criação do personagem.
            // O botão "Criar Personagem" agora também chamará desenharArvore.
            console.log("Página pronta. Crie um personagem para carregar a árvore.");
        });
    </script>
</body>

</html>